import{m as w,v as b}from"./VueOpenapiForm.eb6aaf9b.js";import{s as y}from"./size.609a1df0.js";import{b as k,d as D,o as a,h as o,F as l,m as d,q as O,g as s,t as u,n as p,k as c,s as g,x as M,j as n,i as v}from"./index.73bd9567.js";const S=D({name:"SimpleInput",mixins:[w,b,y],props:{schema:{type:Object,default:()=>({})},modelValue:{type:null,default:""},validationOb:{type:Object,default:()=>({})}},emits:["update:modelValue"],data(){return{labelShow:!1,isIntegerSetToNull:!1,isMultilineValue:!1}},computed:{ui(){return this.schema.ui||{tag:"input",type:"text"}},identifier(){return`id-${this.schema.title.replace(" ","-")}-${JSON.stringify(new Date().valueOf())}`}},watch:{modelData:{immediate:!0,deep:!0,handler(e,t){this.isMultilineValue&&setTimeout(()=>{this.$refs.textareaField.focus()},0),typeof e=="string"&&e.includes(`
`)&&(this.isMultilineValue=!0),e?this.labelShow=!0:this.labelShow=!1,(this.isIntegerSetToNull||t!=null)&&(this.isIntegerSetToNull&&e&&(this.isIntegerSetToNull=!1),this.type==="number"||this.type==="integer"?e===""?(this.isIntegerSetToNull=!0,this.$emit("update:modelValue",null)):this.$emit("update:modelValue",+e):this.$emit("update:modelValue",e))}}},mounted(){var e;this.modelData&&(this.labelShow=!0),(e=this.$refs.inputField)==null||e.addEventListener("keydown",this.handleKeyDownEvent)},destroyed(){var e;(e=this.$refs.inputField)==null||e.removeEventListener("keydown",this.handleKeyDownEvent)},methods:{triggerInput(){this.labelShow=!0},unTriggerInput(){this.modelData||(this.labelShow=!1)},focusInput(){this.labelShow=!0,this.$refs.inputField.focus()},onPaste(e){let t=(e.clipboardData||window.clipboardData).getData("text");const r=this.updatedModelDataAfterPasteAndKeyDown(e.target,t);t.includes(`
`)&&(this.isMultilineValue=!0,this.modelData=r)},handleKeyDownEvent(e){if(e.code==="Enter"&&e.shiftKey){e.preventDefault();const t=this.updatedModelDataAfterPasteAndKeyDown(e.target);this.isMultilineValue=!0,this.modelData=t}},updatedModelDataAfterPasteAndKeyDown(e,t){const{selectionStart:r,selectionEnd:h}=e,m=this.modelData.substring(0,r),f=this.modelData.substring(h,this.modelData.length);return t=t||`
`,m+t+f}}}),$={class:"ac-single-input is-small is-information"},I={key:0,class:"ac-single-switch is-small is-flex pb-10"},F=["id"],C=["for"],T={key:0},V=["type","placeholder"],P=["type","placeholder"],N={key:0,class:"button is-information"},E=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})],-1),j=[E],B={key:1,class:"button is-information is-warning"},K=s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1),A=[K],L={key:3,class:"is-error"},U=s("span",{class:"warning"},[s("i",{class:"fa fa-warning"})],-1),z=["type","placeholder"],q={key:0,class:"button is-information is-success"},J=s("span",{class:"icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"})])],-1),R=[J],G={key:1,class:"button is-information is-warning"},H=s("span",{class:"icon"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})])],-1),Q=[H],W={key:1,class:"is-warning"},X=s("i",{class:"fa fa-warning warning"},null,-1);function Y(e,t,r,h,m,f){return a(),o("div",$,[e.ui.tag==="input"?(a(),o(l,{key:0},[e.ui.type==="checkbox"?(a(),o("div",I,[d(s("input",{id:e.identifier,"onUpdate:modelValue":t[0]||(t[0]=i=>e.modelData=i),type:"checkbox",name:"switchRoundedDefault",class:"switch ac-switch is-rounded is-primary"},null,8,F),[[O,e.modelData]]),s("label",{class:"switch-label",for:e.identifier},u(e.schema.title),9,C)])):(a(),o(l,{key:1},[s("label",{class:p([e.labelShow?"show-label":"","ac-label"]),onClick:t[1]||(t[1]=c(i=>e.focusInput(),["prevent"]))},u(e.schema.title),3),e.ui.tag==="input"?(a(),o("div",T,[e.isMultilineValue?d((a(),o("textarea",{key:0,ref:"textareaField","onUpdate:modelValue":t[2]||(t[2]=i=>e.modelData=i),class:p(["ac-input",{"is-success":e.validationOb.dirty&&e.validationOb.valid,"is-danger":e.validationOb.dirty&&!e.validationOb.valid,"bg-white":e.modelData}]),style:{"min-height":"100px"},type:e.ui.type,placeholder:e.ui.placeholder||"",onChange:t[3]||(t[3]=i=>e.modelData=i.target.value),onFocus:t[4]||(t[4]=i=>e.triggerInput()),onFocusout:t[5]||(t[5]=i=>e.unTriggerInput()),onPaste:t[6]||(t[6]=(...i)=>e.onPaste&&e.onPaste(...i))},null,42,V)),[[g,e.modelData]]):d((a(),o("input",{key:1,ref:"inputField","onUpdate:modelValue":t[7]||(t[7]=i=>e.modelData=i),class:p(["ac-input",{"is-success":e.validationOb.dirty&&e.validationOb.valid,"is-danger":e.validationOb.dirty&&!e.validationOb.valid,"bg-white":e.modelData}]),type:e.ui.type,placeholder:e.ui.placeholder||"",onChange:t[8]||(t[8]=i=>e.modelData=i.target.value),onFocus:t[9]||(t[9]=i=>e.triggerInput()),onFocusout:t[10]||(t[10]=i=>e.unTriggerInput()),onPaste:t[11]||(t[11]=(...i)=>e.onPaste&&e.onPaste(...i))},null,42,P)),[[M,e.modelData]]),e.validationOb.dirty?(a(),o(l,{key:2},[e.validationOb.valid?(a(),o("span",N,j)):n("",!0),e.validationOb.valid?n("",!0):(a(),o("span",B,A))],64)):n("",!0),e.validationOb&&e.validationOb.errors&&e.validationOb.errors.length>0?(a(),o("p",L,[U,v(" "+u(e.validationOb.errors[0]),1)])):n("",!0)])):n("",!0)],64))],64)):n("",!0),e.ui.tag==="textarea"?(a(),o(l,{key:1},[d(s("textarea",{"onUpdate:modelValue":t[12]||(t[12]=i=>e.modelData=i),class:p(["input",{"is-success":e.validationOb.dirty&&e.validationOb.valid,"is-danger":e.validationOb.dirty&&!e.validationOb.valid}]),type:e.ui.type,placeholder:e.ui.placeholder||"",onChange:t[13]||(t[13]=i=>e.modelData=i.target.value)},null,42,z),[[g,e.modelData]]),e.validationOb.dirty?(a(),o(l,{key:0},[e.valid?(a(),o("button",q,R)):n("",!0),e.invalid?(a(),o("button",G,Q)):n("",!0)],64)):n("",!0),e.validationOb.errors.length>0?(a(),o("span",W,[X,v(" "+u(e.validationOb.errors[0]),1)])):n("",!0)],64)):n("",!0)])}var ee=k(S,[["render",Y]]);export{ee as default};
